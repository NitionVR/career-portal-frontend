<h2 mat-dialog-title class="text-xl font-bold">Team Collaboration</h2>
<mat-dialog-content class="mat-typography">
  <p class="text-muted-foreground mb-4">Share feedback and notes about {{data.candidateName}}</p>
  
  <form [formGroup]="collaborationForm" class="space-y-4">
    <div>
      <label class="text-sm font-medium text-muted-foreground">Team Members</label>
      <div class="flex flex-wrap gap-2 mb-4">
        <div *ngFor="let member of teamMembers" class="px-3 py-1.5 bg-muted rounded-full text-sm flex items-center gap-1">
          {{ member }}
          <button (click)="removeMember(member)" class="ml-1 focus:outline-none">
            <mat-icon class="text-sm h-4 w-4">close</mat-icon>
          </button>
        </div>
        <button (click)="addMember()" class="px-3 py-1.5 border border-dashed border-muted-foreground rounded-full text-sm text-muted-foreground flex items-center gap-1">
          <mat-icon class="text-sm h-4 w-4">add</mat-icon>
          Add Member
        </button>
      </div>
    </div>
    
    <div>
      <label class="text-sm font-medium text-muted-foreground">Note</label>
      <mat-form-field appearance="outline" class="w-full mt-2">
        <textarea matInput formControlName="note" rows="4" placeholder="Add your feedback or notes about this candidate..."></textarea>
      </mat-form-field>
    </div>
    
    <!-- Previous Notes Section -->
    <div *ngIf="previousNotes.length > 0" class="mt-6">
      <h3 class="text-lg font-medium mb-3">Previous Notes</h3>
      
      <div *ngFor="let note of previousNotes" class="glassmorphism p-4 rounded-lg mb-4">
        <div class="flex justify-between items-start mb-2">
          <div>
            <span class="font-medium">{{note.author}}</span>
            <span class="text-xs text-muted-foreground ml-2">{{note.date | date:'medium'}}</span>
          </div>
          <div class="flex flex-wrap gap-1">
            <div *ngFor="let tag of note.tags" class="px-2 py-0.5 text-xs bg-muted rounded-full truncate">
              {{tag.label}}
            </div>
          </div>
        </div>
        <p class="text-sm">{{note.content}}</p>
      </div>
    </div>
  </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="onCancel()">Cancel</button>
  <button mat-raised-button color="primary" (click)="onSubmit()" [disabled]="!collaborationForm.valid">Submit</button>
</mat-dialog-actions>