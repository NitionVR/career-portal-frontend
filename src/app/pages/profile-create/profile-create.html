<div class="flex min-h-screen items-center justify-center p-6 sm:p-8 md:p-12 bg-background">
  <div class="w-full max-w-lg bg-card p-8 rounded-xl shadow-lg">
    <div class="text-center mb-8">
      <img src="/assets/logo.png" alt="eTalente Logo" class="h-12 w-12 mx-auto mb-4"/>
      <h1 class="text-3xl font-bold text-foreground mb-2">Complete Your Profile</h1>
      <p class="text-muted-foreground">Just a few more details to get started.</p>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="flex flex-col items-center justify-center py-12">
      <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary"></div>
      <p class="mt-4 text-muted-foreground">Loading your profile...</p>
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage && !isLoading" class="bg-destructive/20 text-destructive p-4 rounded-md mb-6" role="alert">
      <p class="font-medium">{{ errorMessage }}</p>
    </div>

    <!-- Form -->
    <form *ngIf="!isLoading && profileForm" [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="space-y-6">
      <ng-container *ngIf="userRole === 'CANDIDATE'">
        <div>
          <label class="block text-sm font-medium text-muted-foreground" for="username">Username</label>
          <input id="username" formControlName="username" type="text" placeholder="Enter your username" class="w-full px-4 py-3 bg-background border border-border rounded-md text-foreground focus:ring-0 focus:border-primary focus:shadow-input-focus transition-shadow duration-200"/>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-sm font-medium text-muted-foreground" for="firstName">First Name</label>
            <input id="firstName" formControlName="firstName" type="text" placeholder="Enter your first name" class="w-full px-4 py-3 bg-background border border-border rounded-md text-foreground focus:ring-0 focus:border-primary focus:shadow-input-focus transition-shadow duration-200"/>
          </div>
          <div>
            <label class="block text-sm font-medium text-muted-foreground" for="lastName">Last Name</label>
            <input id="lastName" formControlName="lastName" type="text" placeholder="Enter your last name" class="w-full px-4 py-3 bg-background border border-border rounded-md text-foreground focus:ring-0 focus:border-primary focus:shadow-input-focus transition-shadow duration-200"/>
          </div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-sm font-medium text-muted-foreground" for="gender">Gender</label>
            <app-custom-select id="gender" formControlName="gender" [options]="genderOptions" placeholder="Select your gender"></app-custom-select>
          </div>
          <div>
            <label class="block text-sm font-medium text-muted-foreground" for="race">Race</label>
            <app-custom-select id="race" formControlName="race" [options]="raceOptions" placeholder="Select your race"></app-custom-select>
          </div>
        </div>
        <div>
          <label class="block text-sm font-medium text-muted-foreground" for="disability">Disability</label>
          <app-custom-select id="disability" formControlName="disability" [options]="disabilityOptions" placeholder="Select an option"></app-custom-select>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-sm font-medium text-muted-foreground" for="contactNumber">Contact Number</label>
            <input id="contactNumber" formControlName="contactNumber" type="tel" placeholder="e.g., +1234567890" class="w-full px-4 py-3 bg-background border border-border rounded-md text-foreground focus:ring-0 focus:border-primary focus:shadow-input-focus transition-shadow duration-200"/>
          </div>
          <div>
            <label class="block text-sm font-medium text-muted-foreground" for="alternateContactNumber">Alternate Contact (Optional)</label>
            <input id="alternateContactNumber" formControlName="alternateContactNumber" type="tel" placeholder="e.g., +1987654321" class="w-full px-4 py-3 bg-background border border-border rounded-md text-foreground focus:ring-0 focus:border-primary focus:shadow-input-focus transition-shadow duration-200"/>
          </div>
        </div>
      </ng-container>

      <ng-container *ngIf="userRole === 'HIRING_MANAGER'">
        <div>
          <label class="block text-sm font-medium text-muted-foreground" for="username">Username</label>
          <input id="username" formControlName="username" type="text" placeholder="Enter your username" class="w-full px-4 py-3 bg-background border border-border rounded-md text-foreground focus:ring-0 focus:border-primary focus:shadow-input-focus transition-shadow duration-200"/>
        </div>
        <div>
          <label class="block text-sm font-medium text-muted-foreground" for="companyName">Company Name</label>
          <input id="companyName" formControlName="companyName" type="text" placeholder="Enter your company name" class="w-full px-4 py-3 bg-background border border-border rounded-md text-foreground focus:ring-0 focus:border-primary focus:shadow-input-focus transition-shadow duration-200"/>
        </div>
        <div>
          <label class="block text-sm font-medium text-muted-foreground" for="industry">Industry</label>
          <app-custom-select id="industry" formControlName="industry" [options]="industryOptions" placeholder="Select your industry"></app-custom-select>
        </div>
        <div>
          <label class="block text-sm font-medium text-muted-foreground" for="contactPerson">Contact Person</label>
          <input id="contactPerson" formControlName="contactPerson" type="text" placeholder="Enter contact person's name" class="w-full px-4 py-3 bg-background border border-border rounded-md text-foreground focus:ring-0 focus:border-primary focus:shadow-input-focus transition-shadow duration-200"/>
        </div>
        <div>
          <label class="block text-sm font-medium text-muted-foreground" for="contactNumber">Contact Number</label>
          <input id="contactNumber" formControlName="contactNumber" type="tel" placeholder="e.g., +1234567890" class="w-full px-4 py-3 bg-background border border-border rounded-md text-foreground focus:ring-0 focus:border-primary focus:shadow-input-focus transition-shadow duration-200"/>
        </div>
      </ng-container>

  <!-- Submit Button -->
  <button
    type="submit"
    [disabled]="profileForm.invalid || isSubmitting"
    class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-base font-medium text-primary-foreground bg-primary hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background focus:ring-primary transition-all duration-300 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed"
  >
    <span *ngIf="!isSubmitting">Complete Registration</span>
    <span *ngIf="isSubmitting" class="flex items-center">
      <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-primary-foreground" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
      </svg>
      Processing...
    </span>
  </button>
    </form>
  </div>
</div>